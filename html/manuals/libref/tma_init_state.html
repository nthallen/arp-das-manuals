<!DOCTYPE HTML PUBLIC "-//W30//DTD W# HTML 2.0//EN">
<html>
<head>
<title>tma_init_state</title>
<meta name="author" content="webmaster@huarp.harvard.edu">
</head>
<body>
<h1>tma_init_state</h1>
<h2>Synopsis</h2>
<pre>
    #include "tma.h"
    void tma_init_state( int partno, tma_state *cmds, char *name );
    int tma_process( long int now );
    void tma_succeed( int partno, int statecase );
    
</pre>
<h2>Description</h2>
</p>
<p>These are support functions for TMCALGO algorithms. They are
called from the .tmc code which TMCALGO generates. Users should
not need to call these functions directly.
</p>
<p>tma_init_state() is called to when a TMA state is validated.
It is responsible for initializing the status lines and setting
up the internal structures which keep track of the current
position within the algorithm.
</p>
<p>tma_process() is called every second to execute algorithm
commands. Its single argument is the "current" data stream
time. (This will be very close to the current time when
running an algorithm in realtime, but during playback, it will
be the time when the data was taken.)
</p>
<p>tma_succeed() is called to release a partition from a HOLD
state. If statecase is greater than zero, it must match
the third argument of the currently pending hold command.
This form is generated by "Hold until" syntaxes. If statecase
is less than zero, it must equal (but negative) to the fourth
argument. This form is generated by the "Resume" statement.
</p>
<h2>Returns</h2>
<p>tma_process() returns zero if there is no more work to be done at
this time. If it returns a non-zero value, the TMCALGO-generated
.tmc program uses the value in a switch statement to select a
state to validate. (This value is referred to as a "state_case"
within the tmcalgo source code.) A return value of -1 indicates
that work is not completed, but no action is required by the
caller other than to call tma_process() again. This is necessary
when a "Resume" command is executed, which may unblock a
partition that has already been passed over.
</p>
<p>tma_init_state() and tma_succeed() have void returns.
</p>
<h2>See Also</h2>
<p><a href="subject.html#sub19">TMA Internal</a> functions.</p>
<h2>Source File</h2>
<a href="FILE:/usr/local/src/nortlib/tmaR2.c">/usr/local/src/nortlib/tmaR2.c</A><BR><hr>
<a href="title.html">Alphabetical List</a><br>
<a href="subject.html">Subject List</a><br>
Return to <a href="../index.html">Manuals</a> Page<br>
<a href="mailto:webmaster@huarp.harvard.edu">webmaster@huarp.harvard.edu</a><br>
<font size="-2">Copyright 2001 by the President and Fellows of
Harvard College</font>
</body>
</html>
