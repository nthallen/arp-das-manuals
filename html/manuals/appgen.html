<!DOCTYPE html>
<html>
<head>
<title>APPGEN Manual</title>
<meta name="author" content="webmaster@huarp.harvard.edu">
<meta name="description" content="Harvard University Anderson Group Website">
<meta name="keywords" content="ARP huarp data acquisition qnx atmosphere chemistry Anderson Harvard">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<link rel="shortcut icon" href="http://www.arp.harvard.edu/favicon.ico">
<link rel=stylesheet type="text/css" href="../das.css" title="das">
</head>
<body>
<div id="banner">
<img src="../daq_logo.jpg" width="600" height="100" alt="Anderson Group Data Acquisition Logo" usemap="#daq_map">
<map name="daq_map" id="daq_map">
<area href="http://www.harvard.edu/" shape="rect" coords="10,11,91,35" alt="Harvard Home Page" >
<area href="http://www.arp.harvard.edu/" shape="rect" coords="91,6,246,43" alt="Anderson Group Home Page" >
<area href="http://www.arp.harvard.edu/eng/das/" shape="rect" coords="30,47,273,79" alt="Anderson Group Data Acquisition Home Page" >
</map>
</div>
<br>
<h1>APPGEN Manual</h1>

<h2>Contents</h2>
<ul>
<li><a href="#P0.0">0.0</a>: Introduction</li>
<li><a href="#P0.0">0.1</a>: Invocation</li>
<li><a href="#P1.0">1.0</a>: Overview</li>
<li><a href="#PA">Appendix A</a>: .spec File Syntax</li>
</ul>
<h2><a id="P0.0">0.0</A>: Introduction</h2>
<p>Appgen is a Makefile generator for use with the Anderson Group
Data Acquisition System. It reads in a specification file and
produces a Makefile with standard targets appropriate to the
architecture. For an overview of the programs that are required
to support an instrument, please review the
<a href="../guides/das_arch.html">Data Acquisition
Architecture Overview.</a></p>

<p>Appgen was first developed for QNX4 in June of 1993. The version
described in this document is for use with the QNX6 version of the
data acquisition architecture. The appgen program itself is written
in Korn Shell script, so it is easily portable to other operating
systems.</p>

<h2><a id="P0.1">0.1</A>: Invocation</h2>
<blockquote><code>appgen [spec file]</code></blockquote>

<h2><a id="P1.0">1.0</a>: Overview</h2>

<p><code>appgen</code> generates a makefile based on the
<code>spec_file</code> input. If <code>spec file</code>
is not specified, appgen will look for a file of the form
*.spec in the current directory. If there is a unique one, it
will be used. <code>appgen</code> automatically overwrites
the Makefile, so care should be taken that it is not invoked
in the wrong directory.</p>

<p>The <code>spec_file</code> has two main sections. The first
section is where the core components of the data acquisition
system are specified. The second (optional) section, delineated
by a line containing the string '%%', consists of additional
text to be appended to the end of the generated Makefile. This
makes it possible to extend the capabilities of <code>appgen</code>.</p>

<p>The main section of the <code>spec_file</code> has a syntax
similar to that of a Makefile. Input can include comments,
variable definitions and dependency definitions. Unlike in a
Makefile, you do not define build commands, since defining
those is <code>appgen</code>'s job.</p>

<h2><a id="PA">Appendix A</a>: .spec File Syntax</h2>

<p><code></code></p>

<pre>    
     # comment line
     prefix = &lt;prefix&gt;  (optional: derived from spec file name)
     tmcbase = &lt;files&gt;
     cmdbase = &lt;files&gt;
     colbase = &lt;files&gt;
     swsbase = &lt;files&gt;
     qclibase = &lt;files&gt;
     var = substitution (supported vars are SRC TOOL OBJ
                         TGT (targets to build. copied to $TGTDIR/bin/$VERSION)
                         SCRIPT (source to be copied to $TGTDIR/bin/$VERSION)
                         DISTRIB (other files to be copied to $TGTDIR/bin/$VERSION)
                         SRCDIST (source to be copied to $TGTDIR/bin/$VERSION/Base)
                         IDISTRIB (to be copied to $TGTDIR)
                         MNC (defaults to prefix)
                         TGTNODE TGTDIR
                         SERVER (defaults if server is generated)
                         SUBDIRS (passed on to Makefile)
                         SUBDIRS4 (passed on to Makefile)
                         NONRCS (QNX4: backed up as SOURCE, but not RCSed)
     target : &lt;files&gt;
     ...
     %%
     &lt;additional Makefile contents&gt;
    
     The following target types are supported:
       *algo   TMCBASE  dc usage
       *col    TMCBASE  dg usage T1 etc.
       *ext    TMCBASE  dc usage
       *disp   TMCBASE  dc usage
       *clt    CMDBASE  nl_cons, client usage
       *srvr   CMDBASE  T1
       *.dccc
       *.sft
       *doit
     The following source types are supported:
       *tmc.prt
       *ext.prt
       *.edf
       *.cfg
       *.tbl
       *.fld
       *.tma
       *.cyc
       *.tmc
       *.tmg
       *cmd.prt
       *.cmd
       *.c
       *.slp (soldrv proxy) ==&gt; .sol and something else
       *.oui
       *.doit
       *.DR
</pre>
<hr>
<p>Return to <a href="index.html">Manuals Guide</a></p>
<hr>
<table style="border: none; width: 100%">
<tr><td>last updated: Wed Jun  7 10:34:42 2006</td>
  <td style="text-align: right"><a href="mailto:webmaster@huarp.harvard.edu">webmaster@huarp.harvard.edu</a></td></tr>
<tr><td colspan="2" style="font-size: smaller">
Copyright 2006 by the President and Fellows of Harvard College
</td></tr></table>
</body>
</html>
